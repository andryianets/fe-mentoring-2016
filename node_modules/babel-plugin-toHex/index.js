'use strict';

module.exports = () => {
    return {
        visitor: {
            NumericLiteral(literal) {
                const value = literal.node.value;
                const extra = literal.node.extra;

                if (extra && !/^0x/i.test(extra.raw)) {

                    extra.raw = '0x' + value.toString(16);
                    console.log(`toHex: ${value} => ${extra.raw}`);

                } else if (!/^0x/i.test(value)) {

                    literal.node.value = '0x' + value.toString(16);
                    console.log(`toHex: ${value} => ${literal.node.value}`);

                }
            }
        }
    };
};
